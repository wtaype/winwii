/* ══════════════════════════════════════════════════════════════
   PLANES.CSS — v1.0 · Metas & Proyectos
══════════════════════════════════════════════════════════════ */

/* ══ 1. LAYOUT ══════════════════════════════════════════════ */
.pln_wrap {
  display: flex;
  flex-direction: column;
  gap: .6vh;
  min-height: calc(100vh - 8vh);
  font-family: var(--ff_P);
}

/* ══ 2. TOOLBAR ═════════════════════════════════════════════ */
.pln_toolbar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 1vh;
  padding: .5vh 1.2vh;
  background: var(--wb);
  border: 1px solid var(--brd);
  border-radius: 12px;
  flex-shrink: 0;
  box-shadow: 0 2px 12px rgba(0,0,0,.05);
  animation: pln_in .25s cubic-bezier(.4,0,.2,1) both;
}
.pln_tb_left, .pln_tb_right { display: flex; align-items: center; gap: .7vh; }

.pln_logo {
  display: flex;
  align-items: center;
  gap: .4vh;
  font-size: var(--fz_m4);
  font-weight: 800;
  color: var(--mco);
  letter-spacing: -.4px;
}
.pln_logo i { font-size: var(--fz_m5); }

/* Resumen */
.pln_resumen {
  display: flex;
  align-items: center;
  background: var(--bg);
  border: 1px solid var(--brd);
  border-radius: 50px;
  padding: 0 .2vh;
}
.pln_res_item {
  display: flex; align-items: center; gap: .25vh;
  padding: .3vh .6vh; cursor: default;
  border-radius: 50px; white-space: nowrap;
  transition: background .08s;
}
.pln_res_item:hover { background: var(--bg4); }
.pln_res_item i      { font-size: var(--fz_s3); }
.pln_res_item strong { font-size: var(--fz_m1); font-weight: 800; color: var(--tx); }
.pln_res_item span   { font-size: var(--fz_s2); color: var(--tx3); font-weight: 500; }
.pln_res_sep         { width: 1px; height: 1.2vh; background: var(--brd); flex-shrink: 0; }

/* ══ 3. ACTION BAR ══════════════════════════════════════════ */
.pln_actionbar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: .6vh;
  padding: .4vh .8vh;
  background: var(--wb);
  border: 1px solid var(--brd);
  border-radius: 10px;
  flex-shrink: 0;
  animation: pln_in .25s cubic-bezier(.4,0,.2,1) .03s both;
}
.pln_ab_left, .pln_ab_right { display: flex; align-items: center; gap: .4vh; }

.pln_sync_dot {
  width: .6vh; height: .6vh; border-radius: 50%; flex-shrink: 0; transition: background .15s;
}
.pln_sync_loading { background: var(--warning); animation: pln_pulse .9s ease infinite; }
.pln_sync_ok      { background: var(--success); }
.pln_sync_error   { background: var(--error); }
.pln_sync_saving  { background: var(--mco); animation: pln_pulse .9s ease infinite; }

.pln_ab_btn {
  display: inline-flex; align-items: center; gap: .3vh;
  padding: .35vh .6vh;
  background: var(--bg); border: 1px solid var(--brd);
  border-radius: .5vh; font-size: var(--fz_s4); font-weight: 600;
  color: var(--tx2); cursor: pointer; transition: all .08s; line-height: 1;
}
.pln_ab_btn:hover { background: var(--bg4); border-color: var(--mco); color: var(--mco); }
.pln_ab_btn:active { transform: scale(.95); }

.pln_ab_nuevo {
  background: linear-gradient(135deg, var(--mco), var(--bg2));
  color: var(--txa); border-color: var(--mco);
  box-shadow: 0 2px 8px color-mix(in srgb, var(--mco) 30%, transparent);
}
.pln_ab_nuevo:hover { filter: brightness(1.1); color: var(--txa); border-color: var(--mco); }

/* Filtros */
.pln_filtros { display: flex; gap: .2vh; }
.pln_fil {
  display: inline-flex; align-items: center; gap: .25vh;
  padding: .28vh .6vh;
  background: var(--bg); border: 1px solid var(--brd);
  border-radius: .4vh; font-size: var(--fz_s3); font-weight: 600;
  color: var(--tx2); cursor: pointer; transition: all .08s; white-space: nowrap;
}
.pln_fil:hover { background: color-mix(in srgb, var(--fc, var(--mco)) 10%, var(--bg4)); border-color: var(--fc, var(--mco)); color: var(--fc, var(--mco)); }
.pln_fil.active { background: var(--mco); color: var(--txa); border-color: var(--mco); }
.pln_fil.active i { color: var(--txa) !important; }

/* Search */
.pln_search_wrap {
  position: relative; display: flex; align-items: center;
}
.pln_search_wrap > i {
  position: absolute; left: .55vh; font-size: var(--fz_s3);
  color: var(--tx3); pointer-events: none; z-index: 1;
}
.pln_search_wrap:focus-within > i { color: var(--mco); }
.pln_search_input {
  width: 13vh; padding: .32vh .5vh .32vh 2vh !important;
  background: var(--bg); border: 1.5px solid var(--brd) !important;
  border-radius: .4vh; color: var(--tx); font-size: var(--fz_s3);
  font-family: var(--ff_P); transition: all .08s; outline: none; box-shadow: none !important;
}
.pln_search_input:focus { border-color: var(--mco) !important; background: var(--wb); }
.pln_search_input::placeholder { color: var(--tx3); }

/* Vista btns */
.pln_vista_btns { display: flex; gap: .15vh; }
.pln_vista_btn {
  display: inline-flex; align-items: center; justify-content: center;
  width: 2.4vh; height: 2.4vh; border-radius: .4vh;
  background: var(--bg); border: 1px solid var(--brd);
  color: var(--tx3); font-size: var(--fz_s3); cursor: pointer; transition: all .08s;
}
.pln_vista_btn:hover { border-color: var(--mco); color: var(--mco); }
.pln_vista_btn.active { background: var(--mco); color: var(--txa); border-color: var(--mco); }

/* ══ 4. CONTENT GRID ════════════════════════════════════════ */
.pln_content {
  flex: 1;
  animation: pln_in .3s cubic-bezier(.4,0,.2,1) .06s both;
}

.pln_grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(28vh, 1fr));
  gap: .8vh;
  align-items: start;
}

.pln_list {
  display: flex;
  flex-direction: column;
  gap: .5vh;
}

/* ══ 5. CARD ════════════════════════════════════════════════ */
.pln_card {
  background: var(--wb);
  border: 1px solid var(--brd);
  border-top: 3px solid var(--pc, var(--mco));
  border-radius: 12px;
  padding: .8vh 1vh;
  cursor: pointer;
  transition: all .1s;
  display: flex;
  flex-direction: column;
  gap: .5vh;
  position: relative;
  overflow: hidden;
}
.pln_card::before {
  content: '';
  position: absolute;
  top: 0; right: 0;
  width: 6vh; height: 6vh;
  background: radial-gradient(circle, color-mix(in srgb, var(--pc) 12%, transparent), transparent 70%);
  pointer-events: none;
}
.pln_card:hover {
  border-color: var(--pc, var(--mco));
  transform: translateY(-2px);
  box-shadow: 0 6px 20px rgba(0,0,0,.09);
}
.pln_card_done { opacity: .65; }
.pln_card_done .pln_card_titulo { text-decoration: line-through; color: var(--tx3); }

/* List mode */
.pln_list .pln_card {
  flex-direction: row;
  align-items: center;
  border-top: none;
  border-left: 3px solid var(--pc, var(--mco));
  padding: .6vh .9vh;
  gap: .8vh;
}
.pln_list .pln_card::before { display: none; }
.pln_list .pln_card_pasos_preview { display: none; }
.pln_list .pln_card_desc {
  display: none;
}
.pln_list .pln_card_prog {
  flex: 1;
  min-width: 10vh;
}
.pln_list .pln_card_header {
  flex: 0 0 auto;
  min-width: 20vh;
  max-width: 30vh;
}

/* Card header */
.pln_card_header {
  display: flex;
  align-items: flex-start;
  gap: .6vh;
}
.pln_card_ico {
  width: 3vh; height: 3vh; border-radius: 8px;
  display: flex; align-items: center; justify-content: center;
  flex-shrink: 0; box-shadow: 0 2px 6px rgba(0,0,0,.15);
}
.pln_card_ico i { font-size: var(--fz_m2); color: #fff; }

.pln_card_head_info { flex: 1; min-width: 0; display: flex; flex-direction: column; gap: .2vh; }
.pln_card_titulo {
  font-size: var(--fz_m2); font-weight: 700; color: var(--tx);
  white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
}
.pln_card_badges { display: flex; flex-wrap: wrap; gap: .2vh; }

.pln_badge_est, .pln_badge_prio, .pln_badge_cat {
  display: inline-flex; align-items: center; gap: .15vh;
  padding: .05vh .3vh; border-radius: 50px;
  font-size: var(--fz_s1); font-weight: 600; white-space: nowrap;
}
.pln_badge_est  { background: color-mix(in srgb, var(--ec) 12%, var(--bg4)); color: var(--ec); }
.pln_badge_prio { background: color-mix(in srgb, var(--rc) 12%, var(--bg4)); color: var(--rc); }
.pln_badge_cat  { background: color-mix(in srgb, var(--cc) 12%, var(--bg4)); color: var(--cc); }

.pln_card_opts {
  background: none; border: none; color: var(--tx3);
  font-size: var(--fz_s3); cursor: pointer; padding: .1vh .2vh;
  border-radius: 4px; transition: all .08s; opacity: 0; flex-shrink: 0;
  box-shadow: none; transform: none;
}
.pln_card:hover .pln_card_opts { opacity: 1; }
.pln_card_opts:hover { color: var(--error); background: rgba(255,56,73,.1); }

/* Desc */
.pln_card_desc {
  font-size: var(--fz_s4); color: var(--tx2); line-height: 1.5;
  display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical;
  overflow: hidden; margin: 0;
}

/* Progress */
.pln_card_prog { display: flex; flex-direction: column; gap: .2vh; }
.pln_prog_header { display: flex; align-items: center; justify-content: space-between; }
.pln_prog_label {
  display: flex; align-items: center; gap: .2vh;
  font-size: var(--fz_s2); font-weight: 600; color: var(--tx3);
}
.pln_prog_label i { font-size: var(--fz_s2); color: var(--pc, var(--mco)); }
.pln_prog_pct { font-size: var(--fz_s3); font-weight: 800; color: var(--pc, var(--mco)); }
.pln_prog_track {
  height: .3vh; background: var(--brd); border-radius: 3px; overflow: hidden;
}
.pln_prog_fill { height: 100%; border-radius: 3px; transition: width .3s cubic-bezier(.4,0,.2,1); }

.pln_pasos_mini { display: flex; gap: .15vh; flex-wrap: wrap; padding-top: .1vh; }
.pln_paso_dot {
  width: .6vh; height: .6vh; border-radius: 50%;
  background: var(--brd); transition: background .1s;
}
.pln_paso_done { background: var(--pc, var(--mco)); }

/* Pasos preview */
.pln_card_pasos_preview { display: flex; flex-direction: column; gap: .18vh; }
.pln_paso_item {
  display: flex; align-items: center; gap: .3vh;
  font-size: var(--fz_s3); color: var(--tx2);
}
.pln_paso_item i { font-size: var(--fz_s3); color: var(--tx3); flex-shrink: 0; }
.pln_paso_item_done { opacity: .5; text-decoration: line-through; }
.pln_paso_item_done i { color: var(--success); }
.pln_paso_more {
  font-size: var(--fz_s2); color: var(--tx3); font-weight: 600;
  padding-left: 1.5vh;
}

/* Card footer */
.pln_card_footer {
  display: flex; align-items: center; justify-content: space-between;
  gap: .3vh; padding-top: .3vh;
  border-top: 1px solid color-mix(in srgb, var(--brd) 50%, transparent);
}
.pln_card_fechas {
  display: flex; align-items: center; gap: .4vh;
  font-size: var(--fz_s2); color: var(--tx3); font-weight: 500;
}
.pln_card_fechas span { display: flex; align-items: center; gap: .15vh; }
.pln_card_fechas i { font-size: var(--fz_s2); }
.pln_card_meta_fecha { font-weight: 600; }
.pln_vencido { color: var(--error) !important; font-weight: 700; }
.pln_hoy     { color: var(--mco) !important; font-weight: 700; }
.pln_dias    { color: var(--success); font-weight: 600; }

.pln_card_actions { display: flex; gap: .2vh; }
.pln_action_btn {
  display: inline-flex; align-items: center; justify-content: center;
  width: 2.2vh; height: 2.2vh; border-radius: 50%;
  font-size: var(--fz_s2); cursor: pointer; border: 1px solid var(--brd);
  background: var(--bg4); color: var(--tx2); transition: all .08s; padding: 0;
  box-shadow: none; transform: none;
}
.pln_action_btn:hover { transform: scale(1.12) !important; }
.pln_action_check:hover { background: var(--success); color: #fff; border-color: var(--success); }
.pln_action_edit:hover  { background: var(--mco);    color: #fff; border-color: var(--mco); }

/* Empty */
.pln_empty {
  display: flex; flex-direction: column; align-items: center; justify-content: center;
  gap: .8vh; padding: 6vh 2vh; text-align: center;
}
.pln_empty i { font-size: var(--fz_x1); color: var(--mco); opacity: .2; }
.pln_empty h3 { font-size: var(--fz_m5); font-weight: 800; color: var(--tx); }
.pln_empty p  { font-size: var(--fz_m1); color: var(--tx3); max-width: 30vh; }
.pln_empty .pln_btn_save {
  display: inline-flex; align-items: center; gap: .4vh;
  padding: .6vh 1.4vh; font-size: var(--fz_m2);
}

/* ══ 6. MODAL ═══════════════════════════════════════════════ */
.pln_modal {
  background: var(--wb); border-radius: 16px;
  max-width: 500px; width: 95vw; max-height: 88vh;
  overflow-y: auto; position: relative;
  box-shadow: 0 4px 16px rgba(0,0,0,.12);
  animation: pln_modal_in .18s cubic-bezier(.4,0,.2,1);
  scrollbar-width: thin; scrollbar-color: var(--mco) var(--bg4);
}
.pln_modal::-webkit-scrollbar       { width: 3px; }
.pln_modal::-webkit-scrollbar-track { background: var(--bg4); border-radius: 3px; }
.pln_modal::-webkit-scrollbar-thumb { background: var(--mco); border-radius: 3px; }

.pln_modal_hero {
  display: flex; align-items: center; gap: .9vh;
  padding: 1.1vh 1.4vh; border-radius: 16px 16px 0 0;
  background: linear-gradient(135deg, color-mix(in srgb, var(--mco) 85%, transparent), color-mix(in srgb, var(--mco) 55%, transparent));
  position: relative; overflow: hidden; transition: background .2s;
}
.pln_modal_hero::after {
  content: ''; position: absolute; right: -2vh; top: -2vh;
  width: 8vh; height: 8vh; border-radius: 50%;
  background: rgba(255,255,255,.06); pointer-events: none;
}
.pln_modal_ico {
  width: 3.2vh; height: 3.2vh; border-radius: 9px;
  background: var(--mco); display: flex; align-items: center; justify-content: center;
  box-shadow: 0 2px 8px rgba(0,0,0,.2); flex-shrink: 0; transition: background .15s;
}
.pln_modal_ico i { font-size: var(--fz_m2); color: #fff; }
.pln_modal_tit { font-size: var(--fz_m3); font-weight: 800; color: #fff; margin: 0; }
.pln_modal_sub { font-size: var(--fz_s3); color: rgba(255,255,255,.7); margin: 0; }

.pln_modal_body { padding: .9vh 1.4vh; display: flex; flex-direction: column; gap: .55vh; }

/* Fields */
.pln_field     { display: flex; flex-direction: column; gap: .18vh; }
.pln_field_row { display: grid; gap: .55vh; }
.pln_field_row3 { grid-template-columns: repeat(3, 1fr); }

.pln_label {
  display: flex; align-items: center; gap: .3vh;
  font-size: var(--fz_s3); font-weight: 600; color: var(--tx1); margin-bottom: .1vh;
}
.pln_label i { color: var(--mco); font-size: var(--fz_s3); }
.pln_req { color: var(--error); }

.pln_input_ico { position: relative; display: flex; align-items: center; }
.pln_input_ico > i { position: absolute; left: .6vh; font-size: var(--fz_s4); color: var(--tx3); pointer-events: none; z-index: 1; }
.pln_input_ico:focus-within > i { color: var(--mco); }

.pln_input {
  width: 100%; padding: .4vh .6vh .4vh 2vh;
  background: var(--bg); border: 1.5px solid var(--brd);
  border-radius: .45vh; color: var(--tx); font-size: var(--fz_s4);
  font-family: var(--ff_P); transition: all .08s; outline: none;
}
.pln_input:focus { border-color: var(--mco); background: var(--wb); box-shadow: 0 0 0 2px color-mix(in srgb, var(--mco) 10%, transparent); }
.pln_input::placeholder { color: var(--tx3); }
.pln_input_plain { padding-left: .6vh !important; }

.pln_textarea {
  width: 100%; padding: .4vh .6vh;
  background: var(--bg); border: 1.5px solid var(--brd);
  border-radius: .45vh; color: var(--tx); font-size: var(--fz_s4);
  font-family: var(--ff_P); resize: vertical; transition: all .08s; outline: none;
}
.pln_textarea:focus { border-color: var(--mco); background: var(--wb); box-shadow: 0 0 0 2px color-mix(in srgb, var(--mco) 10%, transparent); }
.pln_textarea::placeholder { color: var(--tx3); }

.pln_select {
  width: 100%; padding: .38vh .55vh;
  background: var(--bg); border: 1.5px solid var(--brd);
  border-radius: .45vh; color: var(--tx); font-size: var(--fz_s4);
  font-family: var(--ff_P); cursor: pointer; transition: all .08s; outline: none;
}
.pln_select:focus { border-color: var(--mco); box-shadow: 0 0 0 2px color-mix(in srgb, var(--mco) 10%, transparent); }
.pln_select option { background: var(--wb); color: var(--tx); }

/* Colores */
.pln_colores { display: flex; gap: .4vh; align-items: center; padding: .2vh 0; flex-wrap: wrap; }
.pln_color_opt {
  width: 1.8vh; height: 1.8vh; border-radius: 50%;
  background: var(--c); border: 2px solid transparent;
  cursor: pointer; transition: all .08s; padding: 0;
  box-shadow: 0 1px 3px rgba(0,0,0,.14);
}
.pln_color_opt:hover { transform: scale(1.15); }
.pln_color_opt.active { border-color: var(--tx); transform: scale(1.25); box-shadow: 0 2px 6px rgba(0,0,0,.22); }

/* Pasos modal */
.pln_pasos_list { display: flex; flex-direction: column; gap: .25vh; }
.pln_paso_row {
  display: flex; align-items: center; gap: .35vh;
  background: var(--bg4); border: 1px solid var(--brd);
  border-radius: 6px; padding: .25vh .45vh; transition: border-color .08s;
}
.pln_paso_row:focus-within { border-color: var(--mco); }

.pln_paso_check {
  display: inline-flex; align-items: center; justify-content: center;
  width: 1.5vh; height: 1.5vh; border-radius: 50%;
  border: 2px solid var(--brd); background: var(--wb);
  font-size: var(--fz_s1); cursor: pointer; flex-shrink: 0;
  transition: all .08s; color: transparent;
}
.pln_paso_check:hover { border-color: var(--success); color: var(--success); }
.pln_paso_checked { background: var(--success); border-color: var(--success); color: #fff; }

.pln_paso_input {
  flex: 1; background: transparent; border: none !important;
  padding: .15vh .3vh !important; color: var(--tx);
  font-size: var(--fz_s4); font-family: var(--ff_P);
  box-shadow: none !important; width: auto;
}
.pln_paso_input:focus { outline: none; }

.pln_del_paso {
  background: none; border: none; color: var(--tx3);
  cursor: pointer; font-size: var(--fz_s2); padding: .1vh .2vh;
  border-radius: 3px; transition: all .08s; flex-shrink: 0;
  transform: none !important; box-shadow: none !important;
}
.pln_del_paso:hover { background: var(--error); color: #fff; }

.pln_btn_add_paso {
  background: var(--bg4); color: var(--mco);
  border: 1.5px dashed var(--mco); border-radius: 6px;
  padding: .35vh .7vh; font-size: var(--fz_s3); font-weight: 600;
  font-family: var(--ff_P); cursor: pointer; width: 100%;
  display: flex; align-items: center; justify-content: center; gap: .3vh;
  transition: all .08s; transform: none !important; box-shadow: none !important;
}
.pln_btn_add_paso:hover { background: var(--mco); color: var(--txa); border-style: solid; }

/* Footer modal */
.pln_modal_footer {
  display: flex; align-items: center; justify-content: space-between;
  padding-top: .6vh; margin-top: .35vh;
  border-top: 1px solid var(--brd); gap: .4vh;
}
.pln_modal_footer_r { display: flex; align-items: center; gap: .35vh; }

.pln_btn_del {
  display: inline-flex; align-items: center; gap: .3vh;
  padding: .35vh .7vh; border-radius: .45vh;
  background: rgba(255,56,73,.07); color: var(--error);
  border: 1.5px solid rgba(255,56,73,.18);
  font-size: var(--fz_s4); font-weight: 700; cursor: pointer;
  transition: all .08s; font-family: var(--ff_P);
}
.pln_btn_del:hover { background: rgba(255,56,73,.14); border-color: var(--error); }
.pln_btn_del:active { transform: scale(.95); }

.pln_btn_cancel {
  display: inline-flex; align-items: center;
  padding: .35vh .9vh; border-radius: .45vh;
  background: var(--bg1); color: var(--tx2); border: 1.5px solid var(--brd);
  font-size: var(--fz_s4); font-weight: 600; cursor: pointer;
  transition: all .08s; font-family: var(--ff_P);
}
.pln_btn_cancel:hover { background: var(--bg4); color: var(--tx); }
.pln_btn_cancel:active { transform: scale(.95); }

.pln_btn_save {
  display: inline-flex; align-items: center; gap: .3vh;
  padding: .4vh 1.1vh; border-radius: .45vh;
  background: linear-gradient(135deg, var(--mco), var(--bg2));
  color: var(--txa); border: none; font-size: var(--fz_s4); font-weight: 700;
  cursor: pointer; font-family: var(--ff_P);
  box-shadow: 0 2px 8px color-mix(in srgb, var(--mco) 30%, transparent);
  transition: all .08s;
}
.pln_btn_save:hover { filter: brightness(1.08); }
.pln_btn_save:active { transform: scale(.95); }
.pln_btn_save:disabled { opacity: .5; cursor: not-allowed; transform: none; }

/* ══ 7. CONFIRM ═════════════════════════════════════════════ */
.pln_modal_confirm {
  background: var(--wb); border-radius: 16px;
  max-width: 310px; width: 92vw; padding: 1.8vh 1.6vh;
  text-align: center;
  box-shadow: 0 4px 14px rgba(0,0,0,.12);
  animation: pln_modal_in .18s cubic-bezier(.4,0,.2,1);
  display: flex; flex-direction: column; align-items: center; gap: .6vh;
}
.pln_confirm_ico {
  width: 4.5vh; height: 4.5vh; border-radius: 50%;
  background: rgba(255,56,73,.1); color: var(--error);
  display: flex; align-items: center; justify-content: center;
  font-size: var(--fz_l1); border: 2px solid rgba(255,56,73,.15);
  animation: pln_warn 1.2s ease infinite;
}
.pln_modal_confirm h3 { font-size: var(--fz_m3); font-weight: 800; color: var(--tx); margin: 0; }
.pln_modal_confirm p  { font-size: var(--fz_s4); color: var(--tx2); margin: 0; font-weight: 500; }
.pln_confirm_btns { display: flex; gap: .45vh; justify-content: center; width: 100%; }

.pln_btn_del_confirm {
  display: inline-flex; align-items: center; gap: .3vh;
  padding: .45vh 1.2vh; border-radius: .5vh;
  background: linear-gradient(135deg, var(--error), #c0392b);
  color: #fff; border: none; font-size: var(--fz_s4); font-weight: 700;
  cursor: pointer; font-family: var(--ff_P); transition: all .08s;
  box-shadow: 0 2px 8px rgba(255,56,73,.28);
}
.pln_btn_del_confirm:hover { filter: brightness(1.1); }
.pln_btn_del_confirm:active { transform: scale(.95); }

/* ══ 8. ANIMACIONES ═════════════════════════════════════════ */
@keyframes pln_in {
  from { opacity: 0; transform: translateY(.6vh); }
  to   { opacity: 1; transform: translateY(0); }
}
@keyframes pln_modal_in {
  from { opacity: 0; transform: translateY(6px) scale(.98); }
  to   { opacity: 1; transform: translateY(0) scale(1); }
}
@keyframes pln_warn {
  0%,100% { transform: scale(1); }
  50%     { transform: scale(1.04); }
}
@keyframes pln_pulse {
  0%,100% { opacity: 1; }
  50%     { opacity: .25; }
}

/* ══ 9. RESPONSIVE ══════════════════════════════════════════ */
@media (max-width: 1200px) {
  .pln_grid { grid-template-columns: repeat(auto-fill, minmax(24vh, 1fr)); }
}
@media (max-width: 900px) {
  .pln_grid { grid-template-columns: repeat(2, 1fr); }
  .pln_resumen { display: none; }
  .pln_actionbar { flex-wrap: wrap; }
  .pln_ab_left, .pln_ab_right { width: 100%; }
}
@media (max-width: 768px) {
  .pln_grid { grid-template-columns: 1fr; }
  .pln_filtros { flex-wrap: wrap; }
  .pln_field_row3 { grid-template-columns: 1fr 1fr; }
}
@media (max-width: 480px) {
  .pln_modal, .pln_modal_confirm { width: 99vw; border-radius: 10px; }
  .pln_field_row3 { grid-template-columns: 1fr; }
}